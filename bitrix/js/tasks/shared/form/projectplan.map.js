{"version":3,"file":"projectplan.min.js","sources":["projectplan.js"],"names":["BX","namespace","Tasks","Shared","Form","ProjectPlan","Util","Widget","extend","sys","code","options","matchWorkTime","companyWorkTime","methods","construct","this","callConstruct","instances","vars","blockSignal","option","data","optionP","cwt","COMPANY_WORKTIME","TIME_UNIT_TYPE_DAY","TIME_UNIT_TYPE_HOUR","TIME_UNIT_TYPE_MINUTE","WORKDAY_DURATION","getWorkDayDuration","unit","TASK","DURATION_TYPE","d","getDeadlinePicker","sdpp","getStartDatePlanPicker","edpp","getEndDatePlanPicker","duration","start","getTimeStamp","startDate","Date","end","endDate","calculateDuration","setDurationSeconds","bindInstantChange","getDurationControl","passCtx","debounce","onDurationChange","bindDelegateControl","preventEnter","onUnitChange","control","startDatePlanPicker","scope","type","isElementNode","DatePicker","defaultTime","HOURS","START","bindEvent","delegate","onStartDatePlanChange","endDatePlanPicker","END","onEndDatePlanChange","deadlinePicker","onDeadLineChange","stamp","solveDeadline","fireEvent","getValue","solveTriangle","e","isEnter","PreventDefault","setMatchWorkTime","way","startProjectPlanPicker","endProjectPlanPicker","recalculateDuration","getCalendar","parent","calendar","Calendar","adaptSettings","setDeadline","date","disableChangeEvent","setTimeStamp","getTime","enableChangeEvent","fixDeadline","isWorkTime","getClosestWorkTime","setStartDate","fixStartDate","setEndDate","fixEndDate","showHintPopup","picker","hintManager","show","message","autoHide","calculateStartDate","calculateEndDate","deadline","fixedDeadline","startChange","endChange","durationChange","durationMs","defaultDuration","getMultiplier","defaultDurationMs","fixedStartDate","fixedEndDate","node","getDuration","value","isNotEmptyString","setDurationUnit","recalc","dropCSSFlags","setCSSFlag","getUnitByDuration","units","i","length","durationInUnit","isNaN","Math","floor","parseInt"],"mappings":"AAAAA,GAAGC,UAAU,uBAEbD,IAAGE,MAAMC,OAAOC,KAAKC,YAAcL,GAAGE,MAAMI,KAAKC,OAAOC,QACvDC,KACCC,KAAM,mBAEPC,SACCC,cAAe,MACfC,gBAAiB,OAElBC,SACCC,UAAW,WAEVC,KAAKC,cAAcjB,GAAGE,MAAMI,KAAKC,OAEjC,UAAUS,MAAKE,WAAa,YAC5B,CACCF,KAAKE,aAGNF,KAAKG,KAAKC,YAAc,KACxBJ,MAAKG,KAAKP,cAAgBI,KAAKK,OAAO,gBAEtC,IAAIC,GAAON,KAAKO,QAAQ,OACxB,IAAIC,GAAMR,KAAKO,QAAQ,WAAWE,gBAElCT,MAAKG,KAAKO,mBAAqB,MAC/BV,MAAKG,KAAKQ,oBAAsB,OAChCX,MAAKG,KAAKS,sBAAwB,MAClCZ,MAAKG,KAAKU,iBAAmBb,KAAKc,oBAElCd,MAAKG,KAAKY,KAAOT,EAAKU,KAAKC,eAAiBjB,KAAKG,KAAKO,kBAEtD,IAAIQ,GAAI,IAGRlB,MAAKmB,kBAAkBX,EACvB,IAAIY,GAAOpB,KAAKqB,uBAAuBb,EACvC,IAAIc,GAAOtB,KAAKuB,qBAAqBf,EAErC,IAAIgB,GAAW,CACf,IAAIJ,GAAQE,EACZ,CACC,GAAIG,GAAQL,EAAKM,cACjB,IAAIC,GAAYF,EAAQ,GAAIG,MAAKH,EAAQ,KAAQ,IAEjD,IAAII,GAAMP,EAAKI,cACf,IAAII,GAAUD,EAAM,GAAID,MAAKC,EAAM,KAAQ,IAE3C,IAAIF,GAAaE,GAAOF,EAAYG,EACpC,CACCN,EAAWxB,KAAK+B,kBAAkBJ,EAAWG,GAAW,KAI1D9B,KAAKgC,mBAAmBR,EAGxBxC,IAAGE,MAAMI,KAAK2C,kBACbjC,KAAKkC,qBACLlC,KAAKmC,QAAQnD,GAAGoD,SAASpC,KAAKqC,iBAAkB,IAAKrC,OAGtDA,MAAKsC,oBAAoB,WAAY,UAAWtC,KAAKuC,aAGrDvC,MAAKsC,oBAAoB,cAAe,QAAStC,KAAKmC,QAAQnC,KAAKwC,gBAGpEN,mBAAoB,WAEnB,MAAOlC,MAAKyC,QAAQ,aAGrBpB,uBAAwB,SAASb,GAEhC,IAAIR,KAAKE,UAAUwC,oBACnB,CACC,GAAIC,GAAQ3C,KAAKyC,QAAQ,kBACzB,IAAGzD,GAAG4D,KAAKC,cAAcF,GACzB,CACC,GAAIzB,GAAI,GAAIlC,IAAGE,MAAMI,KAAKwD,YACzBH,MAAOA,EACPI,YAAavC,EAAIwC,MAAMC,OAExB/B,GAAEgC,UAAU,SAAUlE,GAAGmE,SAASnD,KAAKoD,sBAAuBpD,MAE9DA,MAAKE,UAAUwC,oBAAsBxB,GAIvC,MAAOlB,MAAKE,UAAUwC,qBAGvBnB,qBAAsB,SAASf,GAE9B,IAAIR,KAAKE,UAAUmD,kBACnB,CACC,GAAIV,GAAQ3C,KAAKyC,QAAQ,gBACzB,IAAGzD,GAAG4D,KAAKC,cAAcF,GACzB,CACC,GAAIzB,GAAI,GAAIlC,IAAGE,MAAMI,KAAKwD,YACzBH,MAAOA,EACPI,YAAavC,EAAIwC,MAAMM,KAExBpC,GAAEgC,UAAU,SAAUlE,GAAGmE,SAASnD,KAAKuD,oBAAqBvD,MAE5DA,MAAKE,UAAUmD,kBAAoBnC,GAIrC,MAAOlB,MAAKE,UAAUmD,mBAGvBlC,kBAAmB,SAASX,GAE3B,IAAIR,KAAKE,UAAUsD,eACnB,CACC,GAAIb,GAAQ3C,KAAKyC,QAAQ,WACzB,IAAGzD,GAAG4D,KAAKC,cAAcF,GACzB,CACC,GAAIzB,GAAI,GAAIlC,IAAGE,MAAMI,KAAKwD,YACzBH,MAAOA,EACPI,YAAavC,EAAIwC,MAAMM,KAExBpC,GAAEgC,UAAU,SAAUlE,GAAGmE,SAASnD,KAAKyD,iBAAkBzD,MAEzDA,MAAKE,UAAUsD,eAAiBtC,GAIlC,MAAOlB,MAAKE,UAAUsD,gBAGvBC,iBAAkB,SAASC,GAE1B1D,KAAK2D,cAAcD,EACnB1D,MAAK4D,UAAU,mBAAoB5D,KAAKmB,oBAAoB0C,cAG7DT,sBAAuB,WAEtBpD,KAAK8D,cAAc,KAAM,MAAO,QAGjCP,oBAAqB,WAEpBvD,KAAK8D,cAAc,MAAO,KAAM,QAGjCvB,aAAc,SAASwB,GAEtB,GAAG/E,GAAGE,MAAMI,KAAK0E,QAAQD,GACzB,CACC/E,GAAGiF,eAAeF,EAClB,OAAO,SAITG,iBAAkB,SAASC,GAE1BnE,KAAKG,KAAKP,cAAgBuE,CAE1B,IAAIC,GAAyBpE,KAAKqB,wBAClC,IAAIgD,GAAuBrE,KAAKuB,sBAEhCvB,MAAKsE,qBACL,IAAIF,GAA0BA,EAAuB1C,iBAAmB,KACxE,CACC1B,KAAK8D,cAAc,KAAM,MAAO,WAE5B,IAAIO,GAAwBA,EAAqB3C,iBAAmB,KACzE,CACC1B,KAAK8D,cAAc,MAAO,KAAM,OAGjC,GAAIN,GAAiBxD,KAAKmB,mBAC1B,IAAGqC,EACH,CACCxD,KAAK2D,cAAcH,EAAe9B,kBAIpC9B,cAAe,WAEd,MAAOI,MAAKG,KAAKP,eAGlB2E,YAAa,WAEZ,GAAGvE,KAAKwE,UAAYxE,KAAKwE,SAAStE,UAAUuE,SAC5C,CACC,MAAOzE,MAAKwE,SAAStE,UAAUuE,SAGhC,GAAGzE,KAAKE,UAAUuE,UAAY,MAC9B,CACCzE,KAAKE,UAAUuE,SAAW,GAAIzF,IAAGE,MAAMwF,SAAS1F,GAAGE,MAAMwF,SAASC,cAAc3E,KAAKK,OAAO,qBAG7F,MAAOL,MAAKE,UAAUuE,UAGvBG,YAAa,SAASC,GAErB7E,KAAKmB,oBAAoB2D,oBACzB9E,MAAKmB,oBAAoB4D,aAAaF,EAAKG,UAAY,IACvDhF,MAAKmB,oBAAoB8D,qBAG1BC,YAAa,SAASL,GAErB,GAAIJ,GAAWzE,KAAKuE,aACpB,IAAIvE,KAAKJ,kBAAoB6E,EAASU,WAAWN,GACjD,CACCA,EAAOJ,EAASW,mBAAmBP,EAAM,KACzC7E,MAAK4E,YAAYC,GAGlB,MAAOA,IAGRQ,aAAc,SAASR,GAEtB7E,KAAKqB,yBAAyByD,oBAC9B9E,MAAKqB,yBAAyB0D,aAAaF,EAAKG,UAAY,IAC5DhF,MAAKqB,yBAAyB4D,qBAG/BK,aAAc,SAAST,GAEtB,GAAIJ,GAAWzE,KAAKuE,aACpB,IAAIvE,KAAKJ,kBAAoB6E,EAASU,WAAWN,GACjD,CACCA,EAAOJ,EAASW,mBAAmBP,EAAM,KACzC7E,MAAKqF,aAAaR,GAGnB,MAAOA,IAGRU,WAAY,SAASV,GAEpB7E,KAAKuB,uBAAuBuD,oBAC5B9E,MAAKuB,uBAAuBwD,aAAaF,EAAKG,UAAY,IAC1DhF,MAAKuB,uBAAuB0D,qBAG7BO,WAAY,SAASX,GAEpB,GAAIJ,GAAWzE,KAAKuE,aACpB,IAAIvE,KAAKJ,kBAAoB6E,EAASU,WAAWN,GACjD,CACCA,EAAOJ,EAASW,mBAAmBP,EAAM,MACzC7E,MAAKuF,WAAWV,GAGjB,MAAOA,IAGRY,cAAe,SAASC,GAEvB,GAAIA,EACJ,CACC1G,GAAGE,MAAMI,KAAKqG,YAAYC,KACzBF,EAAOjD,QAAQ,WACfzD,GAAG6G,QAAQ,yDACX,KACA,MACEC,SAAU,SAKf/D,kBAAmB,SAASJ,EAAWG,GAEtC,GAAI9B,KAAKJ,gBACT,CACC,GAAI4B,GAAWxB,KAAKuE,cAAcxC,kBAAkBJ,EAAWG,EAC/D,OAAON,GAAW,EAAIA,EAAWM,EAAUH,MAG5C,CACC,MAAOG,GAAUH,IAInBoE,mBAAoB,SAASjE,EAASN,GAErC,GAAIxB,KAAKJ,gBACT,CACC,MAAOI,MAAKuE,cAAcwB,mBAAmBjE,EAASN,OAGvD,CACC,MAAO,IAAII,MAAKE,EAAQkD,UAAYxD,KAItCwE,iBAAkB,SAASrE,EAAWH,GAErC,GAAIxB,KAAKJ,gBACT,CACC,MAAOI,MAAKuE,cAAcyB,iBAAiBrE,EAAWH,OAGvD,CACC,MAAO,IAAII,MAAKD,EAAUqD,UAAYxD,KAIxCmC,cAAe,SAASD,GAEvB,GAAIA,IAAU,KACd,CACC,GAAIuC,GAAW,GAAIrE,MAAK8B,EAAQ,IAChC,IAAIwC,GAAgBlG,KAAKkF,YAAYe,EACrC,IAAIA,EAASjB,YAAckB,EAAclB,UACzC,CACChF,KAAKyF,cAAczF,KAAKmB,wBAK3B2C,cAAe,SAASqC,EAAaC,EAAWC,GAE/C,GAAIrG,KAAKG,KAAKC,YACd,CACC,OAGDJ,KAAKG,KAAKC,YAAc,IAExB,IAAIqB,GAAQzB,KAAKqB,yBAAyBK,cAC1C,IAAIC,GAAYF,EAAQ,GAAIG,MAAKH,EAAQ,KAAQ,IAEjD,IAAII,GAAM7B,KAAKuB,uBAAuBG,cACtC,IAAII,GAAUD,EAAM,GAAID,MAAKC,EAAM,KAAQ,IAE3C,IAAIL,GAAWxB,KAAKG,KAAKqB,QACzB,IAAI8E,GAAa9E,EAAW,GAC5B,IAAI+E,GAAkBvG,KAAKwG,cAAcxG,KAAKG,KAAKO,mBACnD,IAAI+F,GAAoBF,EAAkB,GAE1C,IAAIF,EACJ,CACC,GAAI7E,EACJ,CACC,GAAIG,EACJ,CAECA,EAAY3B,KAAKsF,aAAa3D,EAC9B3B,MAAKuF,WAAWvF,KAAKgG,iBAAiBrE,EAAW2E,QAE7C,IAAIxE,EACT,CACCA,EAAU9B,KAAKwF,WAAW1D,EAC1B9B,MAAKqF,aAAarF,KAAK+F,mBAAmBjE,EAASwE,UAIjD,IAAIH,EACT,CACC,GAAIxE,EACJ,CACC,GAAI+E,GAAiB1G,KAAKsF,aAAa3D,EACvC,IAAI+E,EAAe1B,YAAcrD,EAAUqD,UAC3C,CACCrD,EAAY+E,CACZ1G,MAAKyF,cAAczF,KAAKqB,0BAGzB,GAAIG,EACJ,CACCM,EAAU9B,KAAKgG,iBAAiBrE,EAAW2E,EAC3CtG,MAAKuF,WAAWzD,OAEZ,IAAIA,EACT,CACCA,EAAU9B,KAAKwF,WAAW1D,EAC1B,IAAIH,EAAYG,EAChB,CACC9B,KAAKgC,mBAAmBhC,KAAK+B,kBAAkBJ,EAAWG,GAAW,SAGtE,CACC9B,KAAKgC,mBAAmBuE,EACxBzE,GAAU9B,KAAKgG,iBAAiBrE,EAAW8E,EAC3CzG,MAAKuF,WAAWzD,UAKf,IAAIsE,EACT,CACC,GAAItE,EACJ,CACCH,EAAYA,EAAY3B,KAAKsF,aAAa3D,GAAa,IACvD,IAAIgF,GAAe3G,KAAKwF,WAAW1D,EACnC,IAAI6E,EAAa3B,YAAclD,EAAQkD,UACvC,CACClD,EAAU6E,CACV3G,MAAKyF,cAAczF,KAAKuB,wBAGzB,GAAII,EACJ,CACC,GAAIA,EAAYG,EAChB,CACC9B,KAAKgC,mBAAmBhC,KAAK+B,kBAAkBJ,EAAWG,GAAW,SAGtE,CACC9B,KAAKgC,mBAAmBuE,EACxB5E,GAAY3B,KAAK+F,mBAAmBjE,EAAS2E,EAC7CzG,MAAKqF,aAAa1D,QAGf,IAAIH,EACT,CACCxB,KAAKgC,mBAAmBR,EACxBG,GAAY3B,KAAK+F,mBAAmBjE,EAASwE,EAC7CtG,MAAKqF,aAAa1D,KAKrB3B,KAAKG,KAAKC,YAAc,OAGzBiC,iBAAkB,SAASuE,GAE1B5G,KAAKG,KAAKqB,SAAWxB,KAAK6G,YAAY7G,KAAKG,KAAKY,KAAM6F,EAAKE,MAC3D9G,MAAK8D,cAAc,MAAO,MAAO,OAGlCtB,aAAc,SAASoE,GAEtB,GAAI7F,GAAO/B,GAAGsB,KAAKsG,EAAM,OACzB,IAAG5H,GAAG4D,KAAKmE,iBAAiBhG,GAC5B,CACCf,KAAKgH,gBAAgBjG,EAAM,QAI7BD,mBAAoB,WAEnB,GAAIU,GAAWxB,KAAKuE,cAAczD,mBAAmB,GAAIc,MACzD,OAAOJ,GAAW,EAAIA,EAAW,IAAO,OAGzCgF,cAAe,SAASzF,GAEvB,GAAIA,GAAQf,KAAKG,KAAKO,mBACtB,CACC,MAAOV,MAAKJ,gBAAkBI,KAAKG,KAAKU,iBAAmB,MAG5D,GAAIE,GAAQf,KAAKG,KAAKQ,oBACtB,CACC,MAAO,MAGR,GAAII,GAAQf,KAAKG,KAAKS,sBACtB,CACC,MAAO,IAGR,MAAO,IAGRoG,gBAAiB,SAASjG,EAAMkG,GAE/BjH,KAAKG,KAAKY,KAAOA,CAIjBf,MAAKkH,aAAa,uBAClBlH,MAAKmH,WAAW,sBAAsBpG,EAEtCf,MAAKyC,QAAQ,uBAAuBqE,MAAQ/F,CAE5C,IAAIkG,IAAW,KACf,CACCjH,KAAKG,KAAKqB,SAAWxB,KAAK6G,YAAY7G,KAAKG,KAAKY,KAAMf,KAAKkC,qBAAqB4E,MAChF9G,MAAK8D,cAAc,MAAO,MAAO,QAKnCsD,kBAAmB,SAAS5F,GAE3B,GAAI6F,IACHrH,KAAKG,KAAKO,mBACVV,KAAKG,KAAKQ,oBACVX,KAAKG,KAAKS,sBAGX,KAAK,GAAI0G,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAClC,CACC,GAAIvG,GAAOsG,EAAMC,EACjB,IAAIE,GAAiBxH,KAAKwG,cAAczF,EAExC,IAAIS,GAAYgG,EAChB,CACC,MAAOzG,IAIT,MAAOf,MAAKG,KAAKS,uBAGlBoB,mBAAoB,SAASR,GAE5B,GAAGiG,MAAMjG,GACT,CACC,OAGDxB,KAAKG,KAAKqB,SAAWA,CAErB,IAAIA,EACJ,CACC,GAAIT,GAAOf,KAAKoH,kBAAkB5F,EAClC,IAAIT,GAAQf,KAAKG,KAAKY,KACtB,CACCf,KAAKgH,gBAAgBjG,IAIvB,GAAI+F,GAAQY,KAAKC,MAAM3H,KAAKG,KAAKqB,SAAWxB,KAAKwG,cAAcxG,KAAKG,KAAKY,MACzE,IAAI+F,EAAQ,EACZ,CACC9G,KAAKkC,qBAAqB4E,MAAQA,IAIpCD,YAAa,SAAS9F,EAAMS,GAE3BA,EAAWoG,SAASpG,EAAU,GAC9B,KAAIiG,MAAMjG,IAAaA,EAAW,EAClC,CACC,MAAOxB,MAAKwG,cAAczF,GAAQS,EAGnC,MAAO,IAGR8C,oBAAqB,WAEpBtE,KAAKG,KAAKqB,SAAWxB,KAAK6G,YAAY7G,KAAKG,KAAKY,KAAMf,KAAKyC,QAAQ,YAAYqE"}