{"version":3,"file":"itemsetpicker.min.js","sources":["itemsetpicker.js"],"names":["BX","namespace","Tasks","UserItemSet","Util","ItemSet","extend","sys","code","options","nameTemplate","useSearch","useAdd","mode","prefixId","popupOffsetTop","popupOffsetLeft","methods","construct","this","instances","selector","Integration","Socialnetwork","NetworkSelector","scope","id","getRandomHash","getNSMode","query","getQuery","option","forceTop","controlBind","parent","callConstruct","vars","intendOpen","initialized","changed","showLoader","delay","bindEvents","callMethod","bindEvent","delegate","onClose","onSelectorInitialized","onSelectorItemSelected","onSelectorItemDeselected","filterFocusBlur","control","onSearchBlurred","setCSSFlag","hideLoader","cancel","dropCSSFlag","openAddForm","searchPopupOpen","data","value","extractItemValue","hasItem","checkCanAddItems","itemLast","getItemLast","replaceItem","addItem","close","resetInput","deleteItem","arguments","deselectItem","checkIsOpened","toggleSearchOff","initializeSelector","search","focus","initialize","type","isElementNode","open","extractItemDisplay","DISPLAY","nameFormatted","util","htmlspecialcharsback","entityType","formatted","formatName","LOGIN","login","NAME","TITLE","ID","email","hashCode","networkId","ENTITY_TYPE","prepareData","WORK_POSITION","description","AVATAR","avatar","name","LAST_NAME","lastName","EMAIL","IS_EMAIL_USER","IS_EXTRANET_USER","extranet","IS_NETWORK_USER","network","typeSet","USER_TYPE","push","ENTITY_TYPE_CODE","TYPE_SET","join","URL","path","toString","replace","parseInt","GroupItemSet","PopupItemSet","formShownBefore","blockSelectorEvent","temporalItems","window","getSelector","then","PopupWindowManager","create","getFullBxId","getPopupAttachTo","autoHide","closeByEsc","content","getPickerContainer","buttons","getPopupButtons","show","bindFormEvents","setFocus","bind","debug","p","Promise","resolve","btnDesc","getPopupButtonsDescription","k","btnClass","PopupWindowButton","PopupWindowButtonLink","text","className","events","click","action","message","applySelectionChange","discardSelectionChange","itemsChanged","list","getSelectionDelta","added","deleted","items","delta","redraw"],"mappings":"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"}