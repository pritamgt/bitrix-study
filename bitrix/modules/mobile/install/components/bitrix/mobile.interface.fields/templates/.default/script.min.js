BX.namespace("BX.Mobile.Grid.Fields");BX.Mobile.Grid.Fields={gridId:"",eventName:"",init:function(e){if(typeof e==="object"){this.gridId=e.gridId||"";this.eventName=e.eventName||""}var i=BX("bx-mobile-interface-fields-block").querySelectorAll("[data-role='mobile-grid-field-item']");if(i){for(var l=0;l<i.length;l++){new FastButton(i[l],BX.proxy(function(){BX.Mobile.Grid.Fields.selectField(this.item)},{item:i[l]}))}}},selectField:function(e){if(BX.hasClass(e,"mobile-grid-field-selected"))BX.removeClass(e,"mobile-grid-field-selected");else BX.addClass(e,"mobile-grid-field-selected")},apply:function(){BXMobileApp.UI.Page.LoadingScreen.show();var e=[],i;var l=BX.findChildren(BX("bx-mobile-interface-fields-block"),{className:"mobile-grid-field-selected"},true);if(l){for(var d=0;d<l.length;d++){i=l[d].getAttribute("data-id");e.push(i)}}BX.ajax.post("/mobile/?mobile_action=mobile_grid_fields",{sessid:BX.bitrix_sessid(),fields:e,action:"fields",gridId:this.gridId},BX.proxy(function(){BXMobileApp.UI.Page.LoadingScreen.hide();BXMobileApp.onCustomEvent(this.eventName,{},true);app.closeModalDialog()},this))}};
//# sourceMappingURL=script.map.js