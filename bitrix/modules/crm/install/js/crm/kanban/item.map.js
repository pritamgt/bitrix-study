{"version":3,"sources":["item.js"],"names":["BX","namespace","CRM","Kanban","Item","options","apply","this","arguments","container","timer","popupTooltip","plannerCurrent","prototype","__proto__","constructor","lastPosition","columnId","targetId","clipTitle","fullTitle","title","arrTitle","split","lastWord","length","splice","join","setDataKey","key","val","data","getData","setData","getDataKey","switchClass","el","className","mode","addClass","removeClass","switchVisible","style","display","hide","getLastPosition","setLastPosition","column","getColumn","sibling","getNextItemSibling","getId","render","createLayout","color","getColor","rgb","util","hex2rgb","rgba","r","g","b","link","innerHTML","name","setAttribute","totalPrice","price_formatted","date","textContent","contactId","contactName","htmlspecialcharsback","contactLink","planner","switchPlanner","contactTypes","i","c","type","disabledClass","toLowerCase","unbindAll","bind","delegate","clickContact","proxy_context","showTooltip","message","toUpperCase","hideTooltip","gridData","getGridData","create","props","entityType","events","dblclick","window","location","href","mouseleave","removeHoverClass","appendChild","total","children","showActivity","activityExist","click","showCurrentPlan","activityEmpty","getMessage","activityPlan","text","showPlannerMenu","contactPhone","attrs","data-type","contactEmail","contactIm","contactBlock","createShadow","content","eventLink","querySelector","destroy","getPreloader","loadCurrentPlan","getGrid","ajax","action","entity_id","setContent","adjustPosition","error","Utils","showErrorDialog","PopupWindowManager","closeIcon","autoHide","closeByEsc","contentColor","angle","offsetLeft","overlay","backgroundColor","opacity","onAfterPopupShow","onPopupClose","unbind","proxy","adjustPopup","show","fields","Array","isArray","menuItems","push","value","onclick","clickContactItem","PopupMenu","zIndex","item","BXIM","phoneTo","ENTITY_TYPE","contactType","ENTITY_ID","openMessengerSlider","RECENT","MENU","hasActivityEditor","CrmActivityEditor","items","hasSlider","top","Bitrix24","Slider","CrmActivityProvider","addEmail","ownerType","ownerID","id","communications","entityId","entityTitle","communicationsLoaded","selectPlannerMenu","Crm","Activity","Planner","showEdit","TYPE_ID","CrmActivityType","OWNER_TYPE","OWNER_ID","taskData","UF_CRM_TASK","CrmOwnerTypeAbbr","resolve","TITLE","TAGS","add","visitParams","CrmActivityVisit","menu","getCurrentMenu","close","getPlannerMenu","node","popupMenu","isNode","columnData","activityProgress","activityErrorTotal","context","white","PopupWindow","darkMode","background","itemBlock","popup","getCurrentPopup","getPopupWindow"],"mappings":"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","file":""}