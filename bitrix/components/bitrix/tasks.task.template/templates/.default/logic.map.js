{"version":3,"file":"logic.min.js","sources":["logic.js"],"names":["BX","namespace","Tasks","Component","TasksTaskTemplate","extend","sys","code","methods","bindEvents","this","vars","parentType","parseInt","option","BASE_TEMPLATE_ID","currentLock","bindDelegateControl","passCtx","onToggleFlag","delegate","onPinFooterClick","bindControl","onForumSubmit","Util","hintManager","bindHelp","scope","bindNestedControls","addCustomEvent","errors","alert","toggleReplicationLock","way","replFlagNode","control","disable","isFlagEnabled","checked","enable","data","toggleBaseTemplateLock","templateButton","onParentTypeClick","addClass","removeClass","switchOption","name","Dispatcher","find","id","then","ctrl","bind","toggleTypeNewLock","isEditMode","solveFieldOpLock","field","value","unLockAll","processEditorInit","ready","handler","onFormKeyDown","document","editorId","editor","BXHtmlEditor","Get","bindEditorEvents","setFocusOnTitle","window","eventEditor","bindEvent","onFrameBlockToggle","onResponsibleChange","processToggleFlag","getInstanceDispatcher","subInstance","onParentChange","getDeadline","getStartDate","updateEndDatePlan","getDuration","getValue","count","openForm","showDisposable","message","hide","setTimeout","input","Focus","focus","selectionStart","length","node","target","type","isNotEmptyString","flagNode","flagName","yesValue","noValue","isElementNode","panel","fadeSlideToggleByClass","fadeToggleByClass","prevResponsibles","export","replaceAll","ID","NAME","entityType","URL","readOnly","DurationPicker","unit","UNIT","displayValue","VALUE","start","duration","e","event","submitting","PreventDefault","csrf","bitrix_sessid","call","items","parentTask","parentTemplate","parentCtrl","newId","getIdByValue","hasClass","setCSSMode","setTypes","TASK","TEMPLATE","Widget","options","controlBind","construct","callConstruct","onUnitChange","realValue","calculateRealValue","getDisplayValue","getUnit","onDisplayKeydown","onDisplayInput","onDisplayChange","updateRealValue","valueInput","fireEvent","isNaN","key","which","keyCode","charCode","preventDefault","toString","replace"],"mappings":"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"}